<div class="custom-modal" *ngIf="showMapLegend" (click)="toggleLegend()"></div>

<div class="legend-section" [class.show-legend]="showMapLegend">
  <!-- <div class="date-filter">
    <select name="date" [(ngModel)]="selectedDate" (ngModelChange)="filterMarkers($event)">
      <option *ngFor="let date of dates" [value]="date">
        <h5>{{ date }}</h5>
      </option>
    </select>
  </div>
  <i class="fa fa-filter fa-lg" aria-hidden="true"></i> -->
  <h4 class="event-summary-header">Map list - {{ events.length }}</h4>
  <h5 class="close-pop-up" (click)="toggleLegend()">X</h5>

  <div class="map-summary">
    <div *ngFor="let event of events; let i = index" class="map-event" (click)="changeCenter(event)">

      <div class="marker">
        <h5 class="marker-index">{{ i+1 }}</h5>
      </div>

      <div class="marker-details">
        <div *ngIf="event.date !== 'any day'">
          <h5 class="marker-date">{{ event.date | date: 'dd MMM'}} - {{ event.time }}</h5>
        </div>

        <div *ngIf="event.date === 'any day'">
          <h5 class="marker-date">Any day - {{ event.time }}</h5>
        </div>

        <div *ngIf="event.type === 'accommodation'">
          <h5 class="accommodation-summary-header"><i class="fa fa-bed" aria-hidden="true"></i> {{ event.stay_city | uppercase }}</h5>
        </div>

        <h5 class="marker-name">{{ event.name }}</h5>
        <h5 class="event-summary-note truncate">{{ event?.note }}</h5>
      </div>

    </div>
  </div>
</div>

<div class="map-legend-popup" (click)="toggleLegend()">
  <i class="fa fa-list" aria-hidden="true"></i>
</div>

<div #map id="map"></div>
