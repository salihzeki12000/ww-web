<div class="legend">
  <div class="">
    <div class="accommodation-indicator pill"></div>
    <h6>ACCOMMODATION</h6>
  </div>

  <div class="">
    <div class="activity-indicator pill"></div>
    <h6>ACTIVITY</h6>
  </div>

  <div class="">
    <div class="transport-indicator pill"></div>
    <h6>TRANSPORT</h6>
  </div>

</div>

<div *ngIf="!totalEvents" class="nil-event-message">
  <img class="img-example" src="assets/arrow.png" alt="">
  <h4>You have not added any item to display on this summary</h4>

  <h4 class="action-response-primary" (click)="addAccommodation = true">Add new accommodation now</h4>
  <h4 class="action-response-primary" (click)="addTransport = true">Add new transport now</h4>
  <h4 class="action-response-primary" (click)="addActivity = true">Add new activity now</h4>

  <h4>You can also add a new item by selecting the "ADD NEW" tab and then the respective options for accommodation, activity or transport</h4>
  <h4 class="nil-event-message-mobile">You can access the "ADD NEW" tab at the bottom of the screen.</h4>
</div>

<div *ngIf="totalEvents" class="date-row" (window:resize)="onScroll($event)" (scroll)="onScroll($event)">

  <div class="date-bar" [style.left]="left">
    <div *ngFor="let date of dateRange; let i = index">
      <div *ngIf="date === 'any day'">
        <h5 class="date">Any day</h5>
      </div>

      <div *ngIf="date !== 'any day'">
        <div>
          <h5 class="date">Day {{ i }} - {{ date | date: "dd MMM (EEE)" }}</h5>
        </div>
      </div>
    </div>
  </div>

  <div class="scroll-left" (click)="scrollLeft()" *ngIf="scroll">
    <i class="fa fa-chevron-left" aria-hidden="true"></i>
  </div>

  <div class="scroll-right" (click)="scrollRight()" *ngIf="scroll">
    <i class="fa fa-chevron-right" aria-hidden="true"></i>
  </div>

  <div *ngIf="currentDate === 'any day'">
    <h5 class="fixed-date-header">Any day</h5>
  </div>

  <div *ngIf="currentDate !== 'any day'">
    <h5 class="fixed-date-header">Day {{ index }} - {{ currentDate | date: 'dd MMM (EEE)'}}</h5>
  </div>

  <div *ngFor="let date of dateRange; let i = index" class="date-column">

    <ww-itinerary-summary-day
      [index]="i"
      [date]="date"
      [itinerary]="itinerary"
      [dailyNote]="dailyNotes[i]"
      [events]="events"
      (showEventDetails)="showEventDetails($event)"
      (sectionPosition)="sectionPosition($event)"></ww-itinerary-summary-day>
  </div>
</div>

<div *ngIf="showDetailsInSummary">
  <div class="details-in-summary-container">
    <div class="hide-details" (click)="hideDetailsInSummary()">
      <h4>close</h4>
    </div>

    <div *ngIf="chosenEvent?.type === 'transport'" class="details-in-summary">
      <ww-transport
        [event]="chosenEvent"
        [preview]="preview"
        [dateRange]="dateRange"
        [itinerary]="itinerary"
        [summary]="true"></ww-transport>
    </div>

    <div *ngIf="chosenEvent?.type === 'activity'" class="details-in-summary">
      <ww-activity
        [activity]="chosenEvent"
        [preview]="preview"
        [dateRange]="dateRange"
        [itinerary]="itinerary"
        [summary]="true"></ww-activity>
    </div>

    <div *ngIf="chosenEvent?.type === 'accommodation'" class="details-in-summary">
      <ww-accommodation
        [event]="chosenEvent"
        [preview]="preview"
        [dateRange]="dateRange"
        [itinerary]="itinerary"
        [summary]="true"></ww-accommodation>
    </div>
  </div>
</div>

<div *ngIf="addAccommodation" class="custom-modal">
  <ww-accommodation-form (hideAccommodationForm)="hideAccommodationForm($event)"></ww-accommodation-form>
</div>

<div *ngIf="addTransport" class="custom-modal">
  <ww-transport-form (hideTransportForm)="hideTransportForm($event)"></ww-transport-form>
</div>

<div *ngIf="addActivity" class="custom-modal">
  <ww-activity-input (hideActivityForm)="hideActivityForm($event)"></ww-activity-input>
</div>
