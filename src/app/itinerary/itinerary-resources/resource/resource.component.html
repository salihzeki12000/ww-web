<div class="details-card">

  <div [class.editing]="editing">
    <div class="view">

      <div class="dots-menu" (mouseover)="showMenuOptions()">
        <div class="item-menu" *ngIf="showMenu">
          <ul>
            <!-- <li>
              <h5>Recommend</h5>
              <i class="fa fa-thumbs-o-up" aria-hidden="true"></i>
            </li> -->
            <li (click)="onEdit()" *ngIf="sameUser">
              <h5>Edit</h5>
              <i class="fa fa-pencil" aria-hidden="true"></i>
            </li>
            <li (click)="confirmDelete()" *ngIf="sameUser">
              <h5>Delete</h5>
              <i class="fa fa-trash-o" aria-hidden="true"></i>
            </li>
          </ul>
        </div>
      </div>

      <div class="link-details">

        <h4 class="description">{{ resource?.description }}</h4>
        <a href="{{resource?.link}}" target="_blank"><h5 class="truncate website-link">{{ resource?.link }}</h5></a>

        <div class="postby">
          <h5><a routerLink="/users/{{resource?.user['_Id']}}">{{ resource?.user.username }}</a></h5>
          <div class="time-ago">
            <p>{{ resource?.time_ago }}</p>
            <span class="show-time">{{ resource?.created_at | date: 'EEE, dd MMM yyyy - HH:mm' }}</span>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div *ngIf="editing">

    <form [formGroup]="editResourceForm" (ngSubmit)="onUpdateResource()">

      <label>DESCRIPTION</label>
      <input type="text" formControlName="description" [value]="resource.description">

      <label>LINK</label>
      <input type="text" formControlName="link" [value]="resource.link">

      <div class="save-option">
        <h4 (click)="cancelEditResource()">CANCEL</h4>
        <button type="submit" class="save-button"><h4><i class="fa fa-floppy-o" aria-hidden="true"></i> SAVE</h4></button>
      </div>

    </form>

  </div>

</div>

<div class="delete-modal" *ngIf="deleteResource">
  <div class="confirm-delete">
    <div class="confirm-delete-header">
      <h3>Delete resource - {{ resource?.description }}?</h3>
    </div>

    <div class="confirm-delete-content">
      <i class="fa fa-exclamation-triangle fa-lg" aria-hidden="true"></i>
      <h4>Deleting resource {{ resource?.description }} will permanently remove it from your itinerary.</h4>
    </div>

    <div class="confirm-delete-footer">
      <h4 (click)="cancelDelete()">CANCEL</h4>
      <h4 (click)="onDeleteResource()">DELETE</h4>
    </div>
  </div>
</div>
